<!-- Modern Sidebar -->
<div
  class="sidebar-overlay"
  *ngIf="visible"
  (click)="onHide()"
  [@fadeInOut]
></div>

<aside
  class="modern-sidebar"
  [class.visible]="visible"
  [@slideInOut]
  (click)="$event.stopPropagation()"
>
  <!-- Sidebar Header -->
  <div class="sidebar-header">
    <div class="header-top">
      <div class="logo-section">
        <div class="logo-container">
          <div class="logo-icon">
            <i class="pi pi-graduation-cap"></i>
          </div>
          <div class="logo-text">
            <h3>Oriental College</h3>
            <span>Portal</span>
          </div>
        </div>
      </div>
      <button class="close-btn" (click)="onHide()">
        <i class="pi pi-times"></i>
      </button>
    </div>
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <div class="nav-content">
      <!-- Main Navigation Sections -->
      <div
        *ngFor="let section of getFilteredMenuSections()"
        class="nav-section"
      >
        <div class="section-header" *ngIf="section.label">
          <h5>{{ section.label }}</h5>
        </div>

        <ul class="nav-list">
          <li *ngFor="let item of section.items" class="nav-item">
            <a
              *ngIf="item.route"
              [routerLink]="item.route"
              class="nav-link"
              [class.active]="router.isActive(item.route, false)"
              (click)="navigateAndClose(item.route)"
              routerLinkActive="active"
            >
              <div class="link-content">
                <div class="icon-container">
                  <i [class]="item.icon"></i>
                </div>
                <span class="link-text">{{ item.label }}</span>
              </div>
            </a>

            <button
              *ngIf="!item.route && item.command"
              class="nav-link nav-button"
              (click)="item.command()"
            >
              <div class="link-content">
                <div class="icon-container">
                  <i [class]="item.icon"></i>
                </div>
                <span class="link-text">{{ item.label }}</span>
              </div>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sidebar Footer -->
  <div class="sidebar-footer">
    <!-- Footer Actions -->
    <div class="footer-actions">
      <button class="footer-btn logout-btn" (click)="logout()">
        <i class="pi pi-sign-out"></i>
        <span>Sign Out</span>
      </button>
    </div>
  </div>
</aside>
